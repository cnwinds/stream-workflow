workflow:
  name: "混合流程参数引用示例"
  description: "演示混合执行模式和参数引用功能"
  version: "1.0.0"
  
  nodes:
    # 起始节点 - 提供初始数据
    - id: "start"
      type: "start_node"
      name: "数据源"
      config:
        data:
          student: "张三"
          score: 85
          subject: "数学"
    
    # 数据转换节点 - 处理输入数据
    - id: "transform"
      type: "transform_node"
      name: "数据转换"
      inputs:
        - "start"
      config:
        operation: "custom"
        config:
          # 直接使用输入数据，data变量包含start节点的输出
          expression: "{'student': data.get('data', {}).get('student', ''), 'score': data.get('data', {}).get('score', 0), 'subject': data.get('data', {}).get('subject', ''), 'processed': True}"
    
    # 条件判断节点 - 根据分数判断等级
    - id: "condition"
      type: "condition_node"
      name: "分数评估"
      inputs:
        - "transform"
      config:
        conditions:
          - branch: "excellent"
            expression: "score >= 90"
          - branch: "good"
            expression: "score >= 80"
          - branch: "medium"
            expression: "score >= 60"
        default_branch: "poor"
    
    # 输出节点 - 生成最终报告
    - id: "report"
      type: "output_node"
      name: "生成报告"
      inputs:
        - "condition"
      config:
        format: "json"
        save_to_file: false