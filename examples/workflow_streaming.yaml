workflow:
  name: "语音对话流程示例"
  description: "展示流式多端口工作流：语音输入 -> 识别 -> 对话 -> 合成"
  version: "1.0.0"
  
  nodes:
    - id: "vad"
      type: "vad_node"
      name: "语音活动检测"
      config:
        threshold: 0.5
        min_speech_duration: 0.3
    
    - id: "asr"
      type: "asr_node"
      name: "语音识别"
      config:
        model: "whisper"
        language: "zh"
        stream_mode: true
    
    - id: "agent"
      type: "agent_node"
      name: "智能对话代理"
      config:
        model: "gpt-4"
        temperature: 0.7
        stream: true
        system_prompt: "你是一个友好的AI助手，善于进行自然对话。"
    
    - id: "tts"
      type: "tts_node"
      name: "文本转语音"
      config:
        voice: "zh-CN-XiaoxiaoNeural"
        speed: 1.0
        pitch: 1.0
        audio_format: "opus"
  
  # 参数级连接 - 引擎会自动验证参数结构匹配
  connections:
    - from: "vad.audio_stream"
      to: "asr.audio_in"
    
    - from: "asr.text_stream"
      to: "agent.text_input"
    
    - from: "agent.response_text"
      to: "tts.text_input"

